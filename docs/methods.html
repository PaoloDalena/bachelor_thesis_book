<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Methods | Text Mining On Complex Text Sources: Analysis Of The Final Considerations Of The Governor On The Annual Reports Of The Bank Of Italy From 2008 To 2017</title>
  <meta name="description" content="This is the English version of my Bachelor Thesis - TEXT MINING ON COMPLEX TEXT SOURCES: ANALYSIS OF THE FINAL CONSIDERATIONS OF THE GOVERNOR ON THE ANNUAL REPORTS OF THE BANK OF ITALY FROM 2008 TO 2017" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Methods | Text Mining On Complex Text Sources: Analysis Of The Final Considerations Of The Governor On The Annual Reports Of The Bank Of Italy From 2008 To 2017" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the English version of my Bachelor Thesis - TEXT MINING ON COMPLEX TEXT SOURCES: ANALYSIS OF THE FINAL CONSIDERATIONS OF THE GOVERNOR ON THE ANNUAL REPORTS OF THE BANK OF ITALY FROM 2008 TO 2017" />
  <meta name="github-repo" content="PaoloDalena/bachelor_thesis_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Methods | Text Mining On Complex Text Sources: Analysis Of The Final Considerations Of The Governor On The Annual Reports Of The Bank Of Italy From 2008 To 2017" />
  
  <meta name="twitter:description" content="This is the English version of my Bachelor Thesis - TEXT MINING ON COMPLEX TEXT SOURCES: ANALYSIS OF THE FINAL CONSIDERATIONS OF THE GOVERNOR ON THE ANNUAL REPORTS OF THE BANK OF ITALY FROM 2008 TO 2017" />
  

<meta name="author" content="Paolo Dalena" />


<meta name="date" content="2019-07-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="imgs/favicon.png" type="image/x-icon" />
<link rel="prev" href="objectives.html"/>
<link rel="next" href="results-and-discussion.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>



</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">Paolo Dalena - Bachelor Thesis</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface to the English version</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#annual-reports-of-the-bank-of-italy"><i class="fa fa-check"></i><b>1.1</b> Annual Reports of the Bank of Italy</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#final-remarks-by-the-governor"><i class="fa fa-check"></i><b>1.2</b> Final remarks by the Governor</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#text-mining-on-complex-text-sources"><i class="fa fa-check"></i><b>1.3</b> Text mining on complex text sources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="objectives.html"><a href="objectives.html"><i class="fa fa-check"></i><b>2</b> Objectives</a><ul>
<li class="chapter" data-level="2.1" data-path="objectives.html"><a href="objectives.html#lexical-differences"><i class="fa fa-check"></i><b>2.1</b> Lexical differences</a></li>
<li class="chapter" data-level="2.2" data-path="objectives.html"><a href="objectives.html#most-used-terms"><i class="fa fa-check"></i><b>2.2</b> Most used terms</a></li>
<li class="chapter" data-level="2.3" data-path="objectives.html"><a href="objectives.html#positive-or-negative-approach"><i class="fa fa-check"></i><b>2.3</b> Positive or negative approach</a></li>
<li class="chapter" data-level="2.4" data-path="objectives.html"><a href="objectives.html#recurring-topics"><i class="fa fa-check"></i><b>2.4</b> Recurring Topics</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>3</b> Methods</a><ul>
<li class="chapter" data-level="3.1" data-path="methods.html"><a href="methods.html#exporting-text"><i class="fa fa-check"></i><b>3.1</b> Exporting text</a><ul>
<li class="chapter" data-level="3.1.1" data-path="methods.html"><a href="methods.html#literature-review"><i class="fa fa-check"></i><b>3.1.1</b> Literature Review</a></li>
<li class="chapter" data-level="3.1.2" data-path="methods.html"><a href="methods.html#automating-text-extraction-with-r"><i class="fa fa-check"></i><b>3.1.2</b> Automating text extraction with R</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="methods.html"><a href="methods.html#lemmatization-categorization-and-cleaning"><i class="fa fa-check"></i><b>3.2</b> Lemmatization, categorization and cleaning</a></li>
<li class="chapter" data-level="3.3" data-path="methods.html"><a href="methods.html#analysis-of-lexical-differences"><i class="fa fa-check"></i><b>3.3</b> Analysis of lexical differences</a></li>
<li class="chapter" data-level="3.4" data-path="methods.html"><a href="methods.html#word-cloud-creation"><i class="fa fa-check"></i><b>3.4</b> Word Cloud Creation</a></li>
<li class="chapter" data-level="3.5" data-path="methods.html"><a href="methods.html#sentiment-analysis"><i class="fa fa-check"></i><b>3.5</b> Sentiment analysis</a></li>
<li class="chapter" data-level="3.6" data-path="methods.html"><a href="methods.html#topic-modeling"><i class="fa fa-check"></i><b>3.6</b> Topic modeling</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="results-and-discussion.html"><a href="results-and-discussion.html"><i class="fa fa-check"></i><b>4</b> Results and discussion</a><ul>
<li class="chapter" data-level="4.1" data-path="results-and-discussion.html"><a href="results-and-discussion.html#parts-of-speech-distribution"><i class="fa fa-check"></i><b>4.1</b> Parts of speech distribution</a></li>
<li class="chapter" data-level="4.2" data-path="results-and-discussion.html"><a href="results-and-discussion.html#lexical-characteristics"><i class="fa fa-check"></i><b>4.2</b> Lexical characteristics</a></li>
<li class="chapter" data-level="4.3" data-path="results-and-discussion.html"><a href="results-and-discussion.html#wordcloud-by-periods"><i class="fa fa-check"></i><b>4.3</b> Wordcloud by periods</a></li>
<li class="chapter" data-level="4.4" data-path="results-and-discussion.html"><a href="results-and-discussion.html#comparison-cloud-and-commonalty-cloud"><i class="fa fa-check"></i><b>4.4</b> Comparison cloud and commonalty cloud</a></li>
<li class="chapter" data-level="4.5" data-path="results-and-discussion.html"><a href="results-and-discussion.html#positivity-of-the-lemmas"><i class="fa fa-check"></i><b>4.5</b> Positivity of the lemmas</a></li>
<li class="chapter" data-level="4.6" data-path="results-and-discussion.html"><a href="results-and-discussion.html#topics-of-the-parts-of-the-text"><i class="fa fa-check"></i><b>4.6</b> Topics of the parts of the text</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="conclusions.html"><a href="conclusions.html"><i class="fa fa-check"></i><b>5</b> Conclusions</a></li>
<li class="chapter" data-level="" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i>Acknowledgements</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Text Mining On Complex Text Sources: Analysis Of The Final Considerations Of The Governor On The Annual Reports Of The Bank Of Italy From 2008 To 2017</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="methods" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Methods</h1>
<div id="exporting-text" class="section level2">
<h2><span class="header-section-number">3.1</span> Exporting text</h2>
<p>As already mentioned, the data subject to this analysis are only available in complex form, i.e. in PDF format. It was therefore necessary, first, to search for software that offered the best performance in accurately exporting text and, second, to automate the process.</p>
<p>In order to understand the particular capabilities of the different methods for importing text from PDF so that we could understand which one is the most accurate and, in particular, the most suitable for our needs, a literature review was conducted on the subject.</p>
<p>Once the software was found, its operation was automated by creating an R package containing the functions useful to the cause.</p>
<div id="literature-review" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Literature Review</h3>
<p>The literature review, conducted on the archives of arXiv2<em>(Archive of scientific articles in physics, mathematics, computer science, quantitative finance, and biology, accessible via <a href="https://arxiv.org/" class="uri">https://arxiv.org/</a>)</em> and ACM (Association of Computer Machinery) Digital Library <em>(Collection of all ACL publications, accessible via <a href="https://dl.acm.org/" class="uri">https://dl.acm.org/</a>)</em>, allowed to study a publication<a href="references.html#references">(6)</a> that offers a perfect overall synthesis of the existing software until then (June 2017) divided according to their different features and capabilities.</p>
<p>Thirteen different programs were evaluated, chosen to exclude those with similar functioning, plus one (PdfAct<a href="references.html#references">(7)</a>, initially called Icecite) presented in the article. Of these, the characteristics were analyzed in terms of identification of paragraph boundaries, correct reading order, and semantic roles of terms; translation capabilities of ligatures, diacritical marks, and hyphenated words; and possible output formats.</p>
<p>Once the capabilities of individual software were understood, the analysis in the publication shifted its focus to performance evaluations. We examined the possible errors in word or paragraph recognition on the output of an archive made up of about twelve thousand scientific articles randomly taken from arXiv, in PDF format.
After a careful evaluation of the characteristics and performances of the different softwares, we concluded that the most suitable for our purpose is PdfAct, the one proposed by the authors of the article. The latter is a Java library capable of recognizing and separating LTBs (Logical Text Blocks) according to a rule-based approach that analyzes distances, positions and fonts of characters.</p>
</div>
<div id="automating-text-extraction-with-r" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Automating text extraction with R</h3>
<p>Following the literature review, some functions have been created, grouped in a larger R package called corecage , which allow to automatically perform the data extraction process entirely through R. These functions are able to create simple files in .txt format containing the text accurately extracted from the Governor’s Final Remarks (in PDF format), simply providing the path of the folder where the PDFs are present and the path of the folder where you want to organize the new text files.</p>
<p>Although the software used is a Java library and therefore does not lend itself to being used directly in an R environment, it is possible to execute all the commands comfortably within the latter. <em>(As a string is executed directly as a System command thanks to the system base function. For further clarification on the functions used, please refer to the R help provided in the corecage package documentation.)</em></p>
<p>This made it possible to have simple files containing only the terms present in the body and in the headings of the paragraphs of the Governor’s final considerations. These 10 files (one for each year of interest) were, therefore, used for the creation of the corpus of documents on which the subsequent analyses were carried out, using the tm<a href="references.html#references">(8)</a> library for text mining on R.</p>
</div>
</div>
<div id="lemmatization-categorization-and-cleaning" class="section level2">
<h2><span class="header-section-number">3.2</span> Lemmatization, categorization and cleaning</h2>
<p>In order to accurately perform the process of reducing a flexed form of a word to its canonical form, called lemma, we used an external tool called TreeTagger. The latter is a tool that allows to annotate words contained in texts of various languages with the appropriate grammatical category and lemma and was developed by Helmut Schmid as part of the TC project at the Institute for Computational Linguistics at the University of Stuttgart. <a href="references.html#references">(9)</a></p>
<p>In order to use this tool in an R environment, we used a library called koRpus, available on CRAN, which offers several useful services for text analysis, including a wrapper for TreeTagger, and the support library for the Italian language (koRpus.lang.it).<a href="references.html#references">(10)</a></p>
<p>Starting from the output provided by this tool, it is therefore possible to reduce the words coming from the same lemma to a single entity and organize them according to their grammatical category. We will be able, therefore, to observe how the different parts of speech are distributed in our documents.</p>
<p>Once we obtained the lemmas organized by grammatical category, the so-called stopwords were removed from the data. The latter are the most common words of a language (such as articles or conjunctions), which are usually more present in a text and could create problems in the analysis. For obvious reasons, moreover, the terms that recur in these particular texts under analysis have been eliminated and therefore, specifically, words like “consideration”, “final”, “governor”, “bank”, “Italy”, etc. Finally, in order to obtain an exhaustive list of the stopwords of the Italian language, we used the stopwords function implemented in the tm package, which provides a list of terms to be removed for different languages, including Italian. <a href="references.html#references">(11)</a></p>
</div>
<div id="analysis-of-lexical-differences" class="section level2">
<h2><span class="header-section-number">3.3</span> Analysis of lexical differences</h2>
<p>Using the describe function of the koRpus library it is possible to observe various descriptive statistics on the data resulting from the application of lemmatization with TreeTagger. These include several indices describing the number of characters in the documents (all characters, no spaces, only letters, etc), the number of words and sentences and their average length.<a href="references.html#references">(12)</a></p>
<p>Moreover, through a special function<a href="references.html#references">(13)</a> of the same package, it was possible to calculate the various MTLD indices (Measure of Textual Lexical Diversity). These indices are clear indicators of the lexical richness of the text, as they are calculated from the ratio between the number of unique terms present in a text and the total number of words within it.<em>(Such a description of how the calculation occurs is decidedly simplistic. For further clarification, see McCarthy, Philip M., and Scott Jarvis. “MTLD, Vocd-D, and HD-D: A Validation Study of Sophisticated Approaches to Lexical Diversity Assessment.” Behavior Research Methods 42, no. 2 (May 1, 2010): 381-92)</em> In fact, the increase in the number of words that are not repeated in a document corresponds to the use of a wider vocabulary, synonymous with greater lexical richness.</p>
</div>
<div id="word-cloud-creation" class="section level2">
<h2><span class="header-section-number">3.4</span> Word Cloud Creation</h2>
<p>The lemmatized, categorized, and cleaned data were then organized according to the frequency with which they appear within the various documents, so that word clouds could be constructed using the R packages wordcloud<a href="references.html#references">(14)</a> and wordcloud2<a href="references.html#references">(15)</a>.</p>
<p>Within the word clouds, then, terms will appear larger the more frequently they appear in the Governor’s Final Considerations. Underlying this weighting is the simple idea that in a document, the more frequent words are, the more important and meaningful they tend to be to the content.</p>
<p>The word cloud is a type of chart commonly used to succinctly visualize the content of a speech or set of documents, and can provide insights into understanding and interpreting the content of texts. From a statistical point of view, it is equivalent to a univariate frequency bar graph. Compared to this type of graph, the wordcloud certainly makes it more difficult to quantify the relative frequency of words, however, it has the advantage of allowing a visualization that immediately captures the relevance of words.</p>
<p>Furthermore, the comparison cloud and the commonalty cloud were used to compare documents within the corpus. In the former, word size is defined according to the different word presence rates within each document: the comparison cloud highlights, therefore, the differences. The commonality cloud, on the other hand, highlights words common to all documents. In this second case, the size of the word is a function of its minimum frequency across documents. So if a word is missing from any document it has zero size (i.e. it is not displayed).<a href="references.html#references">(16)</a></p>
<p>The word clouds of the comparisons were constructed by using the specific functions comparison.cloud and commonality.cloud of the wordcloud library, while the overall word clouds were created thanks to functions contained in the wordcloud2 package, which offers greater freedom in terms of graphic style.</p>
<p>For practical reasons, related to the difficulty of interpreting ten different clouds, we chose to group the documents in three periods. The first includes the years 2008 to 2010, the second those from 2011 to 2014, and the third those from 2015 to 2017. Comparisons were also constructed from the data thus divided.</p>
<p>Finally, because the items are organized into grammatical categories, it was possible to construct the word clouds by limiting analysis to only one of these types at a time. Given the limited information contained in secondary parts of speech, it was repeatedly chosen to include only nouns in the lemmatized wordclouds.</p>
</div>
<div id="sentiment-analysis" class="section level2">
<h2><span class="header-section-number">3.5</span> Sentiment analysis</h2>
<p>In order to link to the words contained in the data their polarity, positive or negative, it is necessary to use a dictionary of opinion word (called lexicon), that is a real list of adjectives, nouns, verbs and adverbs to which are associated the emotions, and therefore the opinions, that they reflect. For example, the word “sun” will be associated with the emotion of joy and a positive opinion, while the word “abandonment” will be associated with a feeling of sadness and a negative polarity.</p>
<p>However, finding a lexicon properly constituted for the Italian language is an arduous task. It is undoubtedly easier to find one in English. For the following analysis, therefore, the polarities of the terms have been extracted from the Italian translations of two different dictionaries.</p>
<p>The first one is the subjectivity lexicon by Janyce Wiebe<a href="references.html#references">(17)</a>, professor at the Department of Computer Science and Intelligent Systems Program of the University of Pittsburgh, and has been used through some adaptations of the functions contained in the sentiment library. The second is the NRC emotion lexicon<a href="references.html#references">(18)</a>, provided by Saif M. Mohammad, Senior Research Scientist at the National Research Council Canada. The latter is accessible, in English, through the syuzhet library<a href="references.html#references">(19)</a>, so it has been used through adaptations of the functions contained in this package.</p>
</div>
<div id="topic-modeling" class="section level2">
<h2><span class="header-section-number">3.6</span> Topic modeling</h2>
<p>The application of topic modeling algorithms allows us to identify the topics of each individual section that goes to make up an entire document. Thus far in the analysis, we have considered the data as a corpus consisting of ten texts, each containing the lemmatized terms of the Governor’s Final Considerations. Given the goal of searching for recurring topics within the individual publications, it was necessary to reorganize the texts.</p>
<p>Ten different corpora consisting of each individual publication were created. Therefore, if up to now we have worked with a corpus of ten documents, from now on we will analyze ten corpora consisting of one document each.</p>
<p>In order to recognize the topics characterizing the sections of each publication, we used, by means of the LDA function present in the topicmodels library<a href="references.html#references">(20)</a>, a particular probabilistic model of the text called Latent Dirichlet Allocation (LDA). This is a very elaborate technique that lends itself to countless applications. To name a few, it is the method by which the results of a Google search are ordered by relevance, but also the one used by Amazon for clustering customers based on their purchases.<a href="references.html#references">(21)</a></p>
<p>The output provided by this function is loaded with information, including many of complicated interpretation. In order to simplify its understanding and use in line with our objective, it has been used in such a way as to obtain the four lemmas that are most likely to be part of four topics that make up the text. The choice of how many parts to divide the documents into and how many terms to study is arbitrary.</p>
<p>These words, since they are the ones most likely to be found together in one section of the publication rather than in another, will give a precise indication of the subject they refer to. It will be possible, therefore, to reconstruct the themes treated within the different texts and, consequently, to observe whether there are some that are repeatedly taken up over the years.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="objectives.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="results-and-discussion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["PaoloDalenaBachelorThesis.pdf", "PaoloDalenaBachelorThesis.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
